#ifndef INCLUDED_LOADINGSTATE
#define INCLUDED_LOADINGSTATE

#include "State.h"

#include <string>
#include <boost/property_tree/ptree.hpp>


class SubLevel;
class LevelState;

////////////////////////////////////////////////////////////
// /A LoadingState is a state which purpouse it to parse the data file
// /descibing a specific level and load the appropriate data into an
// /instance of LevelState
////////////////////////////////////////////////////////////
class LoadingState : public State {
public:
	////////////////////////////////////////////////////////////
	// /LoadingState has to be told what level to load.
	////////////////////////////////////////////////////////////
	LoadingState(std::string levelName, LevelState* level_p);

	////////////////////////////////////////////////////////////
	// /LoadingStates destructor DOES NOT delete mLoadedState.
	////////////////////////////////////////////////////////////
	~LoadingState();

	////////////////////////////////////////////////////////////
	// /Start loading the argument level. 
	// /Will eventually display the loading screen aswell.
	////////////////////////////////////////////////////////////
	virtual void update();

	void render() { }

	bool isRepeatable() const { return false; }

private:
	////////////////////////////////////////////////////////////
	// /No copies
	////////////////////////////////////////////////////////////
	LoadingState(const LoadingState& loading);
	////////////////////////////////////////////////////////////
	// /No copies
	////////////////////////////////////////////////////////////
	LoadingState& operator=(const LoadingState& loading);
};

#endif